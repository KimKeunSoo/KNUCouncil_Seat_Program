# KNUCouncil_Seat_Program
 경북대학교 전교학생대표자회의 의석수 계산 프로그램을 파이썬으로 제작함. [2021.02.02]

비전공자인 총학생회 임원들의 사용 편의를 위해 exe파일로 실행할 수 있게 함. [2021.02.03]

백엔드를 다 구성한 것과 마찬가지니 나중에 웹페이지로 전국의 대학교 총학생회들이 편하게 사용할 수 있도록 배포할 예정임 [2021.??.??]



- 상세 파일 : `src`폴더 안에 `main.py` `module.py`이 두파일이 상세파일임. 주석처리를 상세히 달아놨으므로 자유롭게 수정 및 사용을 허가하나 **출처를 꼭 밝혀주길 바람**.

- exe 파일 : 편의를 위해 pyinstaller로 -w -F 옵션으로 실행 파일 하나를 만듬. 



## 사용 방법

#### 1. 파일 다운로드

- 비전공자들의 git 사용 미숙 및 불필요 파일 다운 방지를 위해 아래 구글 드라이브 링크로 다운을 대체함.

- https://drive.google.com/drive/folders/1K2Kgrafvn5xo2DL57dAHOUZH0BwV1Owl?usp=sharing

  

#### 2. 세팅

- 다운을 받으면 실행파일인 `main.exe`와 `input` 폴더가 있음.

- 먼저 `input` 폴더안에 `input1.csv`와  `input2.csv`  두개의 파일이 있음.

-  `input1.csv`파일은 1) 순번 2) 단과대학이름 3) 재적생 4) 직선석 의 정보가 있음.

  | 순번 |    단과대학    | 재적생 | 직선석 |
  | :--: | :------------: | :----: | :----: |
  |  0   |     IT대학     |  4298  |   11   |
  |  1   |    공과대학    |  3683  |   12   |
  |  2   |    경상대학    |  2763  |   3    |
  |  3   |  과학기술대학  |  2866  |   15   |
  |  4   |  농업생명대학  |  2413  |   15   |
  |  5   |    자연대학    |  2370  |   10   |
  |  6   |    인문대학    |  2062  |   12   |
  |  7   |    사회대학    |  1510  |   8    |
  |  8   |    사범대학    |  1476  |   17   |
  |  9   |  생태환경대학  |  1346  |   9    |
  |  10  |    예술대학    |  690   |   5    |
  |  11  |    의과대학    |  655   |   1    |
  |  12  |    간호대학    |  561   |   1    |
  |  13  |  생활과학대학  |  515   |   4    |
  |  14  |    행정학부    |  523   |   1    |
  |  15  |    수의대학    |  387   |   2    |
  |  16  |    치과대학    |  349   |   1    |
  |  17  |    자율전공    |  229   |   9    |
  |  18  |    약학대학    |  121   |   1    |
  |  19  | 융합학부(2022 글로벌인재학부에서 변경됨) |   4    |   1    |

  - 직선석이란, 단과대학별로 직선 선출된 의원의 좌석 수
  - 순번은 최대 수가 바뀌더라도(단과대학의 수) 무조건 처음은 0부터 마지막까지 연속된 수가 되어야함
  - 순번, 단과대학이름, 재적생, 직선석의 이 4가지 열은 필수적으로 있어야 함
  - 순번, 재적생, 직선석의 모든 수는 정수값이 되어야 함
  - 이 외에 모든 값은 자유롭게 수정 가능
    

  

-  `input2.csv`파일은 1) 단과대학당 최대의석수 2) 전 전학대회 총 위원 수 의 정보가 있음

  |          분류          |  수  |
  | :--------------------: | :--: |
  | 단과대학당 최대의석수  |  18  |
  | 전 전학대회 총 위원 수 | 169  |

  - 단과대학당 최대의석수란, 모든 단과대학의 의석 수 중 최대 의석수, 즉 경북대학교에서는 사범대학교의 18석이 예시로 들 수 있음.

  - 전 전학대회 총 위원수란, 직전 전학대회 단과대학 및 독립학부 대의원 정원으로 169석으로 예시를 들 수 있음.

  - 단과대학당 최대의석수, 전 전학대회 총 위원 수의 이 2가지 행은 필수적으로 있어야 함

  - 수를 나타내는 모든 수는 정수값이 되어야 함

  - 이 외에 모든 값은 자유롭게 수정 가능

    

#### 3. 실행

- 세팅이 완료되었으면(input값을 원하는대로 엑셀 파일 수정 후 저장, **이때 파일 형식 바꾸면 안됨. 그냥 ctrl+s 굳**, <u>간혹하다가 excel 정품을 안쓰는 사람은 바로 저장이 안될텐데 이럴 경우에는 수정하고자 하는 input파일 오른쪽마우스키 - 연결프로그램 - 메모장 으로 켜서 수정 후 ctrl+s 하면 됨.</u> ) 그 전 경로로 돌아와서 `main.exe`를 실행.
- ㄴ마우스 커서에 작동 중 표시가 뜨면 잠시 기다림.
- 몇 초만 있으면 `test.xlsx` 파일이 생성됨. (제일 처음은 작동 중 표시 없어지고 나서 조금 기다려야 함)
- `test.xlsx`안에는 1) 단과대학 2)할당의석 3)고정석 4)직선석 5)비례석 6)소수비례석 7)총 의석 8)재적생수	의원 1인당 인구수 의 값이 표로 저장됨.
- 끝.



## 메커니즘

**「경북대학교 총학생회 전교학생대표자회의 운영 및 시행에 관한 세칙」제 3조에 대한 예시자료**

​    

### 1. 우선 값(  ![img](README%20assets/DRW000063645e20.gif)  )의 계산(산출식의 사용)

  ![그림입니다.  원본 그림의 이름: CLP000054cc0001.bmp  원본 그림의 크기: 가로 2124pixel, 세로 718pixel](README%20assets/tmpA68A.jpg)  
(2022.11.23) 그림에서는 글로벌인재학부로 되어있으나, 인재학부로 해야함, 귀찮아서 변경안했음
​    

①   ![img](README%20assets/DRW000063645e22.gif)  식에서   ![img](README%20assets/DRW000063645e24.gif)  는 재적생을,   ![img](README%20assets/DRW000063645e26.gif)  은 각 단과대학 할당가능 의석수의 순번이다.   ![img](README%20assets/DRW000063645e28.gif)  이 18까지 있는 이유는 현재 사범대학의 선출직대의원이 18석으로 가장 많기 때문에 넘지 않는 것으로 함에 따라 18로 한다. 따라서 총 360개의 숫자가 계산된다. 

② 위의 표를 설명하면, IT대가 첫 번째 의석수를 얻기 위한 우선 값은 3039.14, 두 번째 의석수를 얻기 위한 우선 값은 1754.65의 순이다. 

​    

### 2. 우선 값의 내림차순

![그림입니다.  원본 그림의 이름: CLP000061580001.bmp  원본 그림의 크기: 가로 209pixel, 세로 648pixel](README%20assets/tmpA6F8.jpg)

  

 ① 1단계에서의 모든 숫자들을 모두 내림차순으로 정렬한다. 그러면 좌측 표(일부 발췌)와 같이 IT대, 공과대, 과기대, 경상대 순으로 정렬이 되며, 우선 값으로 인해 IT대의 두 번째 의석이 배정된다. 

 ② 360개의 수 중 몇 개의 수를 활용할지는   ![img](README%20assets/DRW000063645e2a.gif)  식을 활용한다.   ![img](README%20assets/DRW000063645e2c.gif)  는 재적생수이며,   ![img](README%20assets/DRW000063645e2e.gif)  은 최소정수이다. 현재 재적생은 28,821명으로,   ![img](README%20assets/DRW000063645e30.gif)  은 30.66이 나온다. 이때 규정에 따라 소수점을 내림한 정수는 30이며, 이 수의 배수를 활용한다. 상반기 전학대회 단과대학 대의원 수의 정수는 167명으로, 이를 넘지 않는 배수인 150을 단과대학 대의원의 수로 산정한다. (배수 : 30, 60, 90, 120, 150, 180, …)

​    

### 3. 단과대학 의석 수 할당치 산정

![image](https://user-images.githubusercontent.com/33780391/203559221-ef055880-9d9e-4d7e-a65f-70d24a99de00.png)

 ① 좌측의 표는 각 단과대학이 위의 과정을 통해 할당받을 수 있는 의석수를 나타낸다. 

   

### 4. 최종의석 수

  ![그림입니다.  원본 그림의 이름: CLP000054cc0002.bmp  원본 그림의 크기: 가로 1251pixel, 세로 788pixel](README%20assets/tmpA729.jpg)  
(2022.11.23) 의원 1인당 인구수는 계산된 수에서 '반올림'으로 처리함
​    

① 위의 표에 현행은 개정 이전의 구성이다. 

② 고정석은 모든 단과대학이 각 1석씩 배정받는다. 

③ 직선석(선출직대의원)은 이 세칙의 규정에 따르며, 할당의석에서 고정석과 직선석을 뺀 수를 각 단과대학의 비례석으로 한다. (  ![img](README%20assets/DRW000063645e32.gif)  )

④ 소수비례는 최대 할당가능 의석수(18석)의 반수(9석) 미만인 단과대학(예술대, 의과대, 간호대, 생과대, 행정학부, 수의대, 치과대, 자율전공, 약학대, 글인) 중에서 우선 값 수열에서 151번부터 7석을 배정한다. 7석은 최소정수의 반의 반수인 7.5에서 내림하여 7로 한 수다. 
[210409 개발자 추가 : 고정석 + 직선석 <= 최대 의석수 조건을 만족해야 소수비례석으로 간주한다.] 

⑤ 위의 표 최우측열은 이 세칙에서 규정하는 척도이다. 이 세칙 제3조제5항(⑤ 단과대학 및 독립학부 간의 등가성의 원칙을 유지하기 위해 대의원1인 당 학생 수를 척도로 한다.)과 제6항(⑥ 최다 재적생 단과대학의 척도는 최다 선출직 대의원 단과대학의 척도의 3배를 넘지 못하며, 최다 재적생 단과대학의 척도는 전체평균척도의 2배를 넘지 못한다.)를 인용하면, 최다 재적생 단과대학(IT대) 척도 239는 최다 선출식 대의원 단과대학(사범대학)의 척도인 82의 3배인 246을 넘지 않아야 한다. 그리고 IT대의 척도 239는 전체평균의 2배인 273을 넘지 않는다. 

(2022.11.23) '전체평균척도'란, (총 재적생수 / 계산된 총 의석수) 를 뜻함. (의원1인당 인구수의 총합 / 계산된 총 의석수) 가 아님.
